generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// --------------------------------------------
// ENUMS
// --------------------------------------------
enum TipoMovimentacao {
  Pedido
  Pagamento
}

enum TipoContrato {
  praso
  fechamento
  periodo
}

// --------------------------------------------
// MODELS
// --------------------------------------------
model Cliente {
  id           String          @id @default(cuid())
  nome         String
  telefone     String
  tipoContrato TipoContrato
  diaContrato  String
}

model Movimentacao {
  id           String           @id @default(cuid())
  tipo         TipoMovimentacao
  data         DateTime
  vencimento   DateTime?
  valor        Float
  valorAbatido Float?
  codigo       String?
  pago         Boolean  @default(false)

  // apenas FK
  clienteId    String
}

model Configuracao {
  id                        Int         @id @default(autoincrement())
  backupSetted              Boolean     @default(false)
  backupFilesPath           String?
  maxBackups                Int         @default(5)
  backupInterval            Int         @default(7) // em dias
  movimentacaoExpiraEmDias  Int         @default(7) // em dias
  lastBackup                DateTime?
}
